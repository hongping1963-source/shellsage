# VS Code TheFuck 增强功能

## 智能触发机制

### 自动触发
TheFuck 现在支持自动触发功能，可以在命令执行失败时自动提供纠正建议。

#### 配置
- `vscode-thefuck.autoTrigger`: 启用/禁用自动触发（默认：启用）
- `vscode-thefuck.contextAware`: 启用/禁用上下文感知（默认：启用）

#### 上下文感知
扩展会根据以下因素智能判断是否需要触发：
- 当前工作目录
- 打开的文件类型
- 终端上下文
- 最近执行的命令

## 交互方式

### 快速选择
使用 VS Code 的 QuickPick 功能提供更直观的选择界面：
- 使用方向键或数字键快速选择
- 支持搜索和过滤
- 显示命令预览

### 快捷键
- `Ctrl+K Ctrl+F` (Mac: `Cmd+K Cmd+F`): 快速纠正
- 可在 VS Code 键盘快捷方式设置中自定义

### 鼠标操作
- 状态栏图标：点击显示选项菜单
- 右键菜单：在终端中右键可以访问 TheFuck 功能
- 悬停提示：显示命令的详细信息

## 错误解释

### 详细说明
- 显示命令错误的具体原因
- 提供正确的参数用法
- 链接到相关文档

### 配置
- `vscode-thefuck.showExplanation`: 启用/禁用错误解释（默认：启用）

## 性能优化

### 异步操作
- 所有操作都在后台执行
- 不会阻塞 VS Code 主线程
- 支持取消正在执行的操作

### 缓存机制
- 缓存最近的纠正结果
- 可配置缓存超时时间
- 根据上下文自动失效

#### 配置
- `vscode-thefuck.cacheTimeout`: 设置缓存超时时间（秒）

## 使用示例

### 自动触发示例
1. 在终端中输入错误的命令（例如：`gti status`）
2. 扩展自动检测到错误
3. 显示纠正建议和解释
4. 选择执行或查看文档

### 快速选择示例
1. 按下 `Ctrl+K Ctrl+F`
2. 在 QuickPick 菜单中选择操作：
   - 执行纠正的命令
   - 查看命令文档
   - 添加到历史记录

### 状态栏操作
1. 点击状态栏的 TheFuck 图标
2. 选择以下操作：
   - 纠正最后的命令
   - 显示命令历史
   - 配置自动触发
   - 查看文档

## 最佳实践

1. **配置自动触发**
   - 根据个人习惯启用或禁用自动触发
   - 调整触发的灵敏度

2. **使用快捷键**
   - 熟悉默认快捷键
   - 根据需要自定义快捷键

3. **利用缓存**
   - 对于频繁使用的命令，缓存可以提供更快的响应
   - 适当调整缓存超时时间

4. **查看文档**
   - 使用内置的文档查看功能
   - 了解命令的正确用法

## 故障排除

1. **自动触发不工作**
   - 检查是否启用了自动触发功能
   - 确认当前上下文是否支持触发

2. **性能问题**
   - 调整缓存设置
   - 检查是否有过多的后台操作

3. **文档链接无效**
   - 确保网络连接正常
   - 检查命令是否有对应的在线文档
